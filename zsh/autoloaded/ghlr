# vim:syntax=zsh
# vim:filetype=zsh

# gh cli client, monitor or view last workflow run

RUN_ID=$(gh run list | head -n1 | awk '{print $(NF-2)}')
WATCH_MSG=$(gh run watch ${RUN_ID})

if printf ${WATCH_MSG} | grep already; then
  gh run view ${RUN_ID}
else
  gh run watch ${RUN_ID}
fi
